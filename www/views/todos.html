
<ion-side-menus>

    <!-- Center content -->
    <ion-side-menu-content ng-controller="ContentController">

        <ion-header-bar class="bar-stable">
            <!--
            <div class="buttons">
                <button class="button button-icon icon ion-ios7-minus-outline" ng-click="data.showDelete = !data.showDelete;"></button>
                <h1 class="title">All Todo Items</h1>
                <button class="button" ui-sref="createTodo">New</button>
            </div>
            -->

            <!--
            <div class="bar bar-header">
                <button menu-toggle="left" class="button icon ion-navicon"></button>
                <h1 class="title">All Todo Items</h1>
                <button class="button bar-dark" ui-sref="createTodo">New</button>
            </div>
            -->
                      
                <button menu-toggle="left" class="button icon ion-navicon"></button>
                <h1 class="title">todoApp</h1>
                <button class="button icon ion-search placeholder-icon" ui-sref="search"></button>
                
                <!--
                <button class="button icon ion-search placeholder-icon" ng-model="searchOn" ng-click="searchFocus()"></button>

                <button class="button bar-dark" ui-sref="createTodo">New</button>
                -->

          <!--
                <ion-nav-bar class="bar-header"> 
                    <ion-nav-buttons side="left">
                        <button menu-toggle="left" class="button button-clear icon ion-navicon"></button>
                        <h1 class="title">All Todo Items</h1>
                    </ion-nav-buttons>
                    <ion-nav-buttons side="right">
                        <button class="button button-clear button-balanced" ui-sref="createTodo">[ + ]</button>
                    </ion-nav-buttons>
                </ion-nav-bar>

            -->
            
        </ion-header-bar>

        <ion-content>
            <ion-refresher
                pulling-text="Pull to add item..."
                on-refresh="doRefresh2()">
            </ion-refresher>

            <ion-list>
              <label class="item item-input item-select">
                <div class="input-label">
                  Date Range:
                </div>
                <select ng-model="dateFilterOption" ng-change="dateFilterUpdate(dateFilterOption)">
                    <option>Inbox</option>
                    <option>In Progress</option>
                    <option>Today</option>
                    <option>Tomorrow</option>
                    <option>This Week</option>
                    <option>Next Week</option>
                    <option>This Month</option>
                    <option>This Quarter</option>
                    <option>This Year</option>
                    <option>Someday</option>

                </select>
              </label>
              <label class="item item-input item-select">
                <div class="input-label">
                  Project:
                </div>
                <select>
                    <option selected>Personal</option>
                    <option>Business</option>
                    <option>Work</option> 
                </select>
              </label>
        
            <!--
            <ion-list> 
                <ion-item ng-repeat="item in items | filter:{done:false} | filter:filterTxt | filter:dateFilter |
                 orderBy:[predicateVal]:reverse "
                          item="item">   

            <ul ng-repeat="(key, value) in items | filter:{done:false} |
                 filter:filterTxt |
                  filter:dateFilter |
                 groupBy: 'deadline' |
                 orderBy:[predicateVal]:reverse" item="item"> 
            -->

                <div ng-controller="TodoQuickAddController" class="list list-inset">
                  <label class="item item-input">
                    <form ng-submit="addNewItem()">
                    <input id="quickAdd" type="text" placeholder="{{addNewPlaceholder}}" ng-model="newItem" ng-click="updateFilters('Inbox')">
                     <input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;"/>
                    </form>
                  </label>
                </div>

            <!-- toggle search on/off -->

                <ion-item ng-repeat="item in items |
                                filter:{done:false} |
                                filter:dateFilter |
                                orderBy:[predicateVal]:reverse "> 

                    <table ng-class="{'must':(item.priority==2||item.priority==3),'prefer':(item.priority==4||item.priority==5),'fake':item.priority==7}">
                        <tr>
                            <!--
                            <td class="checkbox">
                            -->
                            <td>
                                <br>
                                <button class="button button-clear icon-left ion-ios7-circle-outline" ng-click="doneToggle(item)"></button>
                                <!--
                                <input type="checkbox" class="item-checkbox-left" ng-click="doneToggle(item)">
                                -->
                            </td>
                            <td>&nbsp;</td>
                            <td width="100%" href="#/todo/edit/{{item.objectId}}">
                                <a style="text-decoration: none;" class="a" ng-href="#/todo/edit/{{item.objectId}}">
                                <span class="done-{{item.done}}" width="100%">
                                    <span class="overflow">
                                        <i id="goal" ng-class="{'icon ion-ios7-star': item.goal, 'icon ion-ios7-star-outline': !item.goal}"></i>
                                    {{item.content}}
                                    </span>
                                    <span class="item-headder align-right">   
                                        <span class="align-right">
                                        {{priorityText(item.priority)}} 
                                        <i ng-class="{'hidden22':item.duration=='0.00','fake':item.duration!='0.00'}">in {{item.duration}}
                                        </i>
                                        <ng-pluralize count="item.duration" 
                                            when="{
                                                '0': '',
                                                '1': 'hr',
                                                'other': 'hrs'}">
                                        </ng-pluralize>

                                        </span>    
                                    </span> 
                                    <br>

                                    <br>
                                    <span class="item-footter">
                                        <span class="align-right">
                                            due {{item.deadline}}        
                                        </span>
                                    </span>
                                    <span class="item-footer">
                                        <span></span>
                                        <br>
                                        <span>
                                            [Project] [List] 
                                        </span>

                                    </span>
                                 </span>

                                </a>
                                <ion-option-button side="left" class="button-stable"
                                                 ng-click="goal(item)">
                                    Goal
                                </ion-option-button>

                                <ion-option-button class="button-calm" ng-click="showSnooze(item)">
                                    Push
                                </ion-option-button>

                                <ion-option-button class="button-assertive"
                                                 ng-click="onItemDelete(item)">
                                    Delete
                                </ion-option-button>
                            </td>
                        </tr>
                    </table>
                 </ion-item>       
              
            </ion-list>

            <br>
            <div>
                <!--
                    <button class="bar button bar-stable smaller" ng-model="completed.show" ng-click="completed.show = !completed.show">SHOW COMPLETED ITEMS</button>

                <button class="bar button bar-stable smaller" ng-controller="ConfigController" ng-model="show" ng-click="show = !show">SHOW COMPLETED ITEMS</button>
            -->

                <button class="bar button bar-stable smaller" ng-click="showCompleted()">SHOW COMPLETED ITEMS</button>
            </div>

            <div ng-show="show">
            <ion-list> 
                <ion-item ng-repeat="item in items |
                    filter:{done:true} |
                    filter:dateFilter | 
                    orderBy:'-completedAt' "
                          item="item">
                    
                    <table>
                        <tr>
                            <td>
                                <button class="button button-clear icon-left ion-ios7-checkmark-outline" ng-click="doneToggle(item)"></button>
                                <!--
                                <input type="checkbox" class="item-checkbox-left" ng-click="doneToggle(item)">
                                -->
                            </td>
                            <td>&nbsp;</td>
                            <td>
                                <a class="a" href="#/todo/edit/{{item.objectId}}">
                                <span class="done-{{item.done}}">
                                    <span class="item-header">[Project] [List]
                                    </span> </br>    
                                    {{item.content}}<br>
                                    <span class="item-footer">
                                        {{item.duration}}
                                        <ng-pluralize count="item.duration" 
                                            when="{'0': '',
                                                '1': 'hr',
                                                'other': 'hrs'}">
                                        </ng-pluralize>
                                        <span class="align-right">
                                            <i id="goal" ng-class="{'icon ion-ios7-star': item.goal, 'icon ion-ios7-star-outline': !item.goal}"></i>
                                            due: 
                                            {{item.deadline}}
                                        </span>  
                                    </span>  
                                </span>
                                </a>
                            </td>
                        </tr>
                    </table>

                </ion-item>
        </ion-list>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
        </ion-content>

        <ion-footer-bar align-title="left" class="bar-dark">
          <div class="buttons">
            <button class="button" ng-click="showSort()">Sort</button>
          </div>
          <h1 class="title">Time Required: ~3.5hrs</h1>
          <div class="buttons" ng-click="reset()">
            <button class="button">reset</button>
          </div>
        </ion-footer-bar>

    </ion-side-menu-content>


    <!-- Left menu -->
    <ion-side-menu side="left">
        <ion-header-bar class="bar-dark">
          <h1 class="title">Projects2</h1>
          <button class="button button-icon ion-plus" ng-click="newProject()">
          </button>
        </ion-header-bar>
        <ion-content scroll="false">
          <ion-list>
            <ion-item ng-repeat="project in projects" ng-click="selectProject(project, $index)" ng-class="{active: activeProject == project}">
              {{project.title}}
            </ion-item>
            <ion-item>
                Settings
            </ion-item>
          </ion-list>
        </ion-content>
  </ion-side-menu>

</ion-side-menus>